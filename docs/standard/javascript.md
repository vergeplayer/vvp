#javascript规范

## 文件相关

### 编码格式
默认的编码格式:UTF-8。

### 命名规则
文件名全部使用小写，多个单词使用“-”或者“.”来进行分割。例如：core-object.js、core.object.js等；
文件名中的英文单词必须具有一定的意义，如果单词过长考虑简写，但是简写必须能够清晰描述文件内容。
压缩版要在文件名尾添加.min标识，例如：vvp-0.0.1.min.js；
库以及插件文件如果包含版本信息，也必须体现在文件名中，例如：vvp-0.0.1.min.js等。

### 注释说明
文件必须有注释说明，并且注释中要包含功能描述、作者、创建时间、更新时间信息。如：
```js
/**
 * 获取运行环境(浏览器)支持度
 * Copyright 2015, browser.js
 * MIT Licensed
 * @since 2015/8/24.
 * @modify 2015/10/22.
 * @author zhengzk
 **/
 ```
 
## 编码风格
 
###命名
基本	驼峰式命名
局部变量	小写字母开头，简短，缩写	startPos
类名	大写字母开头	MyClass
参数	类型暗示+名称	fnClickHandle
私有成员	下划线开关	_revert 
常量	全部大写，单词下划线分隔	DAYS_IN_WEEK

  
### 大括号
表示区块起首的大括号，不要另起一行。跟在关键字的后面后即可。
(Javascript会自动添加句末的分号，导致一些难以察觉的错误)如:
```js
　　return
　　{
　　　　key:value;
　　};
```
上面的代码的原意，是要返回一个对象，但实际上返回的是undefined，因为Javascript自动在return语句后面添加了分号。为了避免这一类错误，需要写成下面这样：
```js　　
    return {
　　　　key : value;
　　};
```
### 圆括号
圆括号（parentheses）在Javascript中有两种作用，一种表示调用函数，另一种表示不同的值的组合（grouping）。可以用空格，区分这两种不同的括号。
调用函数的时候，函数名与左括号之间没有空格。
函数名与参数序列之间，没有空格。
所有其他语法元素与左括号之间，都有一个空格。
按照上面的规则，下面的写法都是不规范的：
```js　
　　foo (bar)
　　return(a+b);
　　if(a === 0) {...}
　　function foo (b) {...}
　　function(x) {...}
```
### 分号
不要省略句末的分号。
分号表示语句的结束。大多数情况下，如果你省略了句尾的分号，Javascript会自动添加。
如果下一行的第一个字元（token）是下面这五个字符之一，Javascript将不对上一行句尾添加分号："("、"["、"/"、"+"和"-"。如:
```js　　
    x = y
　　(function (){
　　　　...
　　})();
```
上面的代码等同于
```js
　　x = y(function (){...})();
```

### with语句
不要使用with语句。with可以减少代码的书写，但是会造成混淆。
```js　
　　with (o) {
　　　　foo = bar;
　　}
```
上面的代码，可以有四种运行结果：
```js　
　　o.foo = bar;
　　o.foo = o.bar;
　　foo = bar;
　　foo = o.bar;
```
这四种结果都可能发生，取决于不同的变量是否有定义。

### 相等和严格相等
不要使用"相等"（==）运算符，只使用"严格相等"（===）运算符。
Javascript有两个表示"相等"的运算符："相等"（==）和"严格相等"（===）。
因为"相等"运算符会自动转换变量类型，造成很多意想不到的情况：
```js　
　　0 == ''// true
　　1 == true // true
　　2 == true // false
　　0 == '0' // true
　　false == 'false' // false
　　false == '0' // true
　　" \t\r\n " == 0 // true
```
### 语句的合并
不要将不同目的的语句，合并成一行。
如同一行中赋值多个变量，可能导致歧义：
```js　
　　var a = b = 0;
```
预期结果：
```js　
　　var a = 0, b = 0;
```
实际上不是，它的真正效果是下面这样：
```js　
　　b = 0;
　　var a = b;
```

### 变量声明
使用var来声明全局变量和局部变量，用于区分局部变量与全局变量，避免变量污染。
所有的变量必须在使用前进行声明。
尽量把每个变量的声明语句单独放到一行，并加上注释说明
变量应该尽量保持最小的生存周期。
变量声明都放在代码块、方法、函数的头部

Javascript会自动将变量声明"提升"（hoist）到代码块（block）的头部。
```js　
　　if (!o) {
　　　　var o = {};
　　}
```
等同于
```js　
　　var o;
　　if (!o) {
　　　　o = {};
　　}
```
为了避免可能出现的问题，不如把变量声明都放在代码块的头部。
```js　
　　for (var i ...) {...}
```
最好写成：
```js　
　　var i;
　　for (i ...) {...,}
```

### 全局变量
避免使用全局变量；如果不得不使用，用大写字母表示变量名，比如UPPER_CASE。
Javascript最大的语法缺点，可能就是全局变量对于任何一个代码块，都是可读可写。这对代码的模块化和重复使用，非常不利。

### 自增和自减运算符
不要使用自增（++）和自减（--）运算符，用+=和-=代替。
自增（++）和自减（--）运算符，放在变量的前面或后面，返回的值不一样，很容易发生错误。
事实上，所有的++运算符都可以用"+= 1"代替。
```js
　　++x
```
等同于
```js
　　x += 1;
```

### 区块
总是使用大括号表示区块。
如果循环和判断的代码体只有一行，Javascript允许该区块（block）省略大括号。
下面的代码
```js
　　if (a) b(); c();
```
原意可能是:
```js
　　if (a) { b(); c();}
```
但是，实际效果是:
```js
　　if (a) { b();} c();
```

### 缩进与折叠
缩进使用一个“tab”制表位，不使用4个空格方式，空格方式占用的空间是制表位的4倍。代码折叠必须看起来是完成并且是合乎逻辑的：

### 单引号与双引号
javascript中的单引号与双引号作用是一样的，都是可以用来创建字符串的，但是我们要求使用单引号。因为我们经常操作html元素，在改变html的时候，会涉及到使用html代码，此时原生的html代码可以不经过转义直接使用。

### 注释
```js
//单行注释 用于变量 操作等
/**
* 多行注释，用于方法类的定义
**/
```
### ajax
避免同步的Ajax调用,同步模式做出的请求，这些请求将会对用户禁用浏览器，直至请求返回.
与 POST 相比，GET 更简单也更快，并且在大部分情况下都能用。
然而，在以下情况中，请使用 POST 请求：
1)	无法使用缓存文件（更新服务器上的文件或数据库）
2)	向服务器发送大量数据（POST 没有数据量限制）
3)	发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠

### other
for –in  循环只用于object/map/hash 的遍历
this 仅在对象构造器，方法，闭包中使用
循环索引变量使用 "i", "j", "k" （依次类推）等名称。

尽量避免使用cookie

避免将样式直接写入js，避免在js中加载外部图片(动态效果除外)。降低js代码与HTML、CSS的耦合性






